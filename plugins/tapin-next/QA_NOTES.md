# QA Notes — Tapin Events Next

## מודל רכישה: הוספה / רענון / חזרה
- פתחו מודל רכישה במוצר אירוע והוסיפו 2–3 משתתפים מסוגים שונים עד שמתקבלת הודעת הצלחה.
- רעננו את העמוד או חזרו קדימה/אחורה: המודל צריך להיפתח ריק (בלי ערכים קודמים) והוספה חדשה חייבת לעבוד ללא כפילויות בסל.
- ודאו שהוספה חוזרת לא נחסמת כל עוד יש קיבולת וכי מחירי חלונות המכירה מתעדכנים נכון.

## חידוש לאחר התחברות עם קיבולת
- הזינו אימייל של משתמש קיים כדי להפעיל הפניה לדף התחברות במקום ליצור משתמש שקוף.
- לאחר ההתחברות, חזרו למוצר: ההזמנה אמורה להתחדש אוטומטית עם אותם משתתפים כל עוד נותר מקום לכל סוג כרטיס.
- אם בזמן ההתחברות אזל סוג כרטיס, צריכה להופיע הודעת שגיאה ברורה והמוצר לא מתווסף לסל.

## Approvals וסנכרון מלאי
- אשרו הזמנה בהמתנה ממסך האישורים (כולל Bulk) ובדקו ש-EventStockSynchronizer מעדכן את `_manage_stock`, `_stock`, `_stock_status` והכמויות בדשבורד.
- ודאו שספירת מכירות/קיבולת מתעדכנת פעם אחת לכל מוצר, ושלא נשארים פערים בין קופות או בין הזמנות מאושרות/מבוטלות.
- מלאי ידני שנמחק צריך לאפס את `_stock` ולהחזיר סטטוס `instock` כאשר אין קיבולת מוגדרת.

## בדיקות מהירות
- אימות סינטקס PHP: `php -l path/to/file.php`
- ניקוי שגיאות רכישה קודמות לפני ניסיון חדש: `wc_clear_notices()`
